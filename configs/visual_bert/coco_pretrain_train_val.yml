includes:
- common/defaults/configs/datasets/captioning/masked_coco.yml

dataset_attributes:
  masked_coco:
    return_info: true

    image_features:
        train:
        -  /private/home/asg/features/coco/detectron_fix_100_resnext152/train_val_2014
        -  /private/home/asg/features/coco/detectron_fix_100_resnext152/train_val_2014
    imdb_files:
        train:
        - imdb/coco_captions/imdb_karpathy_train_by_image.npy
        - imdb/coco_captions/imdb_coco_full_val.npy

model_attributes:
  visual_bert:
    bert_model_name: bert-base-uncased
    training_head_type: pretraining
    visual_embedding_dim: 2048
    special_visual_initialize: true
    hard_cap_seq_len: null
    cut_first: text
    embedding_strategy: plain
    bypass_transformer: false
    output_attentions: false
    output_hidden_states: false
    text_only: false
    random_initialize: false
    freeze_base: false
    finetune_lr_multiplier: 1
    metrics: []

optimizer_attributes:
  type: adam_w
  params:
    lr: 5e-5
    eps: 1e-8

scheduler_attributes:
  type: warmup_linear
  params:
    warmup_steps: 1000
    t_total: 11000
    
training_parameters:
  batch_size: 480
  lr_scheduler: true
  # Don't forget to update schedule_attributes if you update this
  max_updates: 11000